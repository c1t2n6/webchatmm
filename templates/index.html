<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapmo.vn - Chat ·∫®n Danh</title>
    <link rel="stylesheet" href="/static/css/video-background.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#8B5CF6',
                        secondary: '#EC4899',
                        accent: '#06B6D4'
                    }
                }
            }
        }
    </script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .chat-bubble {
            animation: fadeInUp 0.3s ease-out;
        }
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .typing-indicator {
            animation: pulse 1.5s infinite;
        }
        .reveal-progress {
            transition: width 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-300">
    <!-- Video Background -->
    <div class="video-background" id="videoBackground">
        <video id="backgroundVideo" autoplay muted loop playsinline>
            <source src="/static/videos/background-loop.mp4" type="video/mp4">
            <!-- Fallback cho browsers kh√¥ng support video -->
            Your browser does not support the video tag.
        </video>
        <div class="video-overlay"></div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
    <!-- Navigation -->
    <nav class="bg-white dark:bg-gray-800 shadow-lg border-b border-gray-200 dark:border-gray-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <h1 class="text-2xl font-bold text-primary">Mapmo.vn</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="darkModeToggle" class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <svg class="w-5 h-5 text-gray-600 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                        </svg>
                    </button>
                    <button id="profileBtn" class="hidden px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                        H·ªì s∆°
                    </button>
                    <button id="logoutBtn" class="hidden px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors">
                        ƒêƒÉng xu·∫•t
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Landing Page -->
        <div id="landingPage" class="text-center">
            <div class="max-w-3xl mx-auto">
                <h2 class="text-4xl md:text-6xl font-bold text-gray-900 dark:text-white mb-6">
                    K·∫øt n·ªëi v·ªõi ng∆∞·ªùi m·ªõi
                </h2>
                <p class="text-xl text-gray-600 dark:text-gray-300 mb-12">
                    Chat ·∫©n danh, kh√°m ph√° s·ªü th√≠ch chung, v√† t√¨m ki·∫øm m·ªëi quan h·ªá √Ω nghƒ©a
                </p>
                
                <div class="grid md:grid-cols-2 gap-6 max-w-2xl mx-auto">
                    <button id="chatBtn" class="group p-8 bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-primary">
                        <div class="text-4xl mb-4">üí¨</div>
                        <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-2">Chat ·∫®n Danh</h3>
                        <p class="text-gray-600 dark:text-gray-300">Tr√≤ chuy·ªán text v·ªõi ng∆∞·ªùi l·∫°</p>
                    </button>
                    
                    <button id="voiceBtn" class="group p-8 bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-primary">
                        <div class="text-4xl mb-4">üìû</div>
                        <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-2">Voice Call</h3>
                        <p class="text-gray-600 dark:text-gray-300">G·ªçi tho·∫°i (S·∫Øp ra m·∫Øt)</p>
                    </button>
                </div>
            </div>
        </div>

        <!-- Login Modal -->
        <div id="loginModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white dark:bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4">
                <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 text-center">ƒêƒÉng nh·∫≠p</h3>
                
                <form id="loginForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">T√™n ƒëƒÉng nh·∫≠p</label>
                        <input type="text" id="loginUsername" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">M·∫≠t kh·∫©u</label>
                        <input type="password" id="loginPassword" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <button type="submit" class="w-full bg-primary text-white py-2 px-4 rounded-lg hover:bg-primary/90 transition-colors">
                        ƒêƒÉng nh·∫≠p
                    </button>
                </form>
                
                <div class="mt-4 text-center">
                    <button id="showSignup" class="text-primary hover:underline">Ch∆∞a c√≥ t√†i kho·∫£n? ƒêƒÉng k√Ω</button>
                </div>
                
                <button id="closeLoginModal" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Signup Modal -->
        <div id="signupModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white dark:bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4">
                <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 text-center">ƒêƒÉng k√Ω</h3>
                
                <form id="signupForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">T√™n ƒëƒÉng nh·∫≠p</label>
                        <input type="text" id="signupUsername" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email</label>
                        <input type="email" id="signupEmail" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">M·∫≠t kh·∫©u</label>
                        <input type="password" id="signupPassword" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">X√°c nh·∫≠n m·∫≠t kh·∫©u</label>
                        <input type="password" id="signupConfirmPassword" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <button type="submit" class="w-full bg-primary text-white py-2 px-4 rounded-lg hover:bg-primary/90 transition-colors">
                        ƒêƒÉng k√Ω
                    </button>
                </form>
                
                <div class="mt-4 text-center">
                    <button id="showLogin" class="text-primary hover:underline">ƒê√£ c√≥ t√†i kho·∫£n? ƒêƒÉng nh·∫≠p</button>
                </div>
                
                <button id="closeSignupModal" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Profile Setup Wizard -->
        <div id="profileWizard" class="hidden">
            <div class="max-w-2xl mx-auto">
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8">
                    <div class="mb-8">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-2xl font-bold text-gray-900 dark:text-white">Thi·∫øt l·∫≠p h·ªì s∆°</h3>
                            <span id="wizardStep" class="text-sm text-gray-500 dark:text-gray-400">B∆∞·ªõc 1/4</span>
                        </div>
                        <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                            <div id="wizardProgress" class="bg-primary h-2 rounded-full transition-all duration-300" style="width: 25%"></div>
                        </div>
                    </div>

                    <!-- Step 1: Basic Info -->
                    <div id="step1" class="wizard-step">
                        <h4 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Th√¥ng tin c∆° b·∫£n</h4>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Bi·ªát danh</label>
                                <input type="text" id="nickname" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Ng√†y sinh</label>
                                <input type="date" id="dob" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Gi·ªõi t√≠nh</label>
                                <select id="gender" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white">
                                    <option value="">Ch·ªçn gi·ªõi t√≠nh</option>
                                    <option value="Nam">Nam</option>
                                    <option value="N·ªØ">N·ªØ</option>
                                    <option value="Kh√°c">Kh√°c</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Preferences -->
                    <div id="step2" class="wizard-step hidden">
                        <h4 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">B·∫°n mu·ªën g·∫∑p ai?</h4>
                        <div class="space-y-3">
                            <label class="flex items-center">
                                <input type="checkbox" value="Nam" class="mr-3 text-primary focus:ring-primary">
                                <span class="text-gray-700 dark:text-gray-300">Nam</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="N·ªØ" class="mr-3 text-primary focus:ring-primary">
                                <span class="text-gray-700 dark:text-gray-300">N·ªØ</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="T·∫•t c·∫£" class="mr-3 text-primary focus:ring-primary">
                                <span class="text-gray-700 dark:text-gray-300">T·∫•t c·∫£</span>
                            </label>
                        </div>
                    </div>

                    <!-- Step 3: Needs -->
                    <div id="step3" class="wizard-step hidden">
                        <h4 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">B·∫°n ƒëang t√¨m ki·∫øm g√¨?</h4>
                        <div class="grid grid-cols-2 gap-3">
                            <label class="flex items-center">
                                <input type="checkbox" value="Nh·∫π nh√†ng vui v·∫ª" class="mr-2 text-primary focus:ring-primary">
                                <span class="text-sm text-gray-700 dark:text-gray-300">Nh·∫π nh√†ng vui v·∫ª</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="Nghi√™m t√∫c" class="mr-2 text-primary focus:ring-primary">
                                <span class="text-sm text-gray-700 dark:text-gray-300">Nghi√™m t√∫c</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="Kh√°m ph√°" class="mr-2 text-primary focus:ring-primary">
                                <span class="text-sm text-gray-700 dark:text-gray-300">Kh√°m ph√°</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="K·∫øt h√¥n" class="mr-2 text-primary focus:ring-primary">
                                <span class="text-sm text-gray-700 dark:text-gray-300">K·∫øt h√¥n</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="B·∫°n ƒë·ªùi l√¢u d√†i" class="mr-2 text-primary focus:ring-primary">
                                <span class="text-sm text-gray-700 dark:text-gray-300">B·∫°n ƒë·ªùi l√¢u d√†i</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="M·ªëi quan h·ªá m·ªü" class="mr-2 text-primary focus:ring-primary">
                                <span class="text-sm text-sm text-gray-700 dark:text-gray-300">M·ªëi quan h·ªá m·ªü</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="K·∫øt b·∫°n m·ªõi" class="mr-2 text-primary focus:ring-primary">
                                <span class="text-sm text-gray-700 dark:text-gray-300">K·∫øt b·∫°n m·ªõi</span>
                            </label>
                        </div>
                    </div>

                    <!-- Step 4: Interests -->
                    <div id="step4" class="wizard-step hidden">
                        <h4 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">S·ªü th√≠ch c·ªßa b·∫°n (ch·ªçn t·ªëi ƒëa 5)</h4>
                        <div class="grid grid-cols-2 gap-3">
                            <label class="flex items-center">
                                <input type="checkbox" value="Gym" class="mr-2 text-primary focus:ring-primary interest-checkbox">
                                <span class="text-sm text-gray-700 dark:text-gray-300">üí™ Gym</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="Nh·∫£y" class="mr-2 text-primary focus:ring-primary interest-checkbox">
                                <span class="text-sm text-gray-700 dark:text-gray-300">üíÉ Nh·∫£y</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="·∫¢nh" class="mr-2 text-primary focus:ring-primary interest-checkbox">
                                <span class="text-sm text-gray-700 dark:text-gray-300">üì∑ ·∫¢nh</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="Cafe" class="mr-2 text-primary focus:ring-primary interest-checkbox">
                                <span class="text-sm text-gray-700 dark:text-gray-300">‚òï Cafe</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="Du l·ªãch" class="mr-2 text-primary focus:ring-primary interest-checkbox">
                                <span class="text-sm text-gray-700 dark:text-gray-300">‚úàÔ∏è Du l·ªãch</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="Game" class="mr-2 text-primary focus:ring-primary interest-checkbox">
                                <span class="text-sm text-gray-700 dark:text-gray-300">üéÆ Game</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="ƒê·ªçc" class="mr-2 text-primary focus:ring-primary interest-checkbox">
                                <span class="text-sm text-gray-700 dark:text-gray-300">üìö ƒê·ªçc</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="Nh·∫°c" class="mr-2 text-primary focus:ring-primary interest-checkbox">
                                <span class="text-sm text-gray-700 dark:text-gray-300">üéß Nh·∫°c</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="T√¨nh nguy·ªán" class="mr-2 text-primary focus:ring-primary interest-checkbox">
                                <span class="text-sm text-gray-700 dark:text-gray-300">‚ù§Ô∏è T√¨nh nguy·ªán</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="Phim" class="mr-2 text-primary focus:ring-primary interest-checkbox">
                                <span class="text-sm text-gray-700 dark:text-gray-300">üçø Phim</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="Leo n√∫i" class="mr-2 text-primary focus:ring-primary interest-checkbox">
                                <span class="text-sm text-gray-700 dark:text-gray-300">üèîÔ∏è Leo n√∫i</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="Ngh·ªá thu·∫≠t" class="mr-2 text-primary focus:ring-primary interest-checkbox">
                                <span class="text-sm text-gray-700 dark:text-gray-300">üé® Ngh·ªá thu·∫≠t</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="ƒÇn" class="mr-2 text-primary focus:ring-primary interest-checkbox">
                                <span class="text-sm text-gray-700 dark:text-gray-300">ü•ò ƒÇn</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="T√¢m linh" class="mr-2 text-primary focus:ring-primary interest-checkbox">
                                <span class="text-sm text-gray-700 dark:text-gray-300">‚ú® T√¢m linh</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" value="Th·ªùi trang" class="mr-2 text-primary focus:ring-primary interest-checkbox">
                                <span class="text-sm text-gray-700 dark:text-gray-300">üëó Th·ªùi trang</span>
                            </label>
                        </div>
                    </div>

                    <div class="flex justify-between mt-8">
                        <button id="prevStep" class="px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors hidden">
                            Quay l·∫°i
                        </button>
                        <div class="flex space-x-3">
                            <button id="skipProfile" class="px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                                B·ªè qua
                            </button>
                            <button id="nextStep" class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                                Ti·∫øp theo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Edit Section -->
        <div id="profileEdit" class="hidden">
            <div class="max-w-4xl mx-auto">
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8">
                    <div class="flex items-center justify-between mb-8">
                        <h3 class="text-2xl font-bold text-gray-900 dark:text-white">Ch·ªânh s·ª≠a h·ªì s∆°</h3>
                        <button id="closeProfileEdit" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>

                    <form id="profileEditForm" class="space-y-6">
                        <!-- Avatar Section -->
                        <div class="flex items-center space-x-6">
                            <div class="relative">
                                <div id="currentAvatar" class="w-24 h-24 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center text-2xl text-gray-500 dark:text-gray-400 overflow-hidden">
                                    üë§
                                </div>
                                <button type="button" id="changeAvatarBtn" class="absolute bottom-0 right-0 bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-primary/90 transition-colors">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    </svg>
                                </button>
                                <input type="file" id="avatarInput" class="hidden" accept="image/*">
                            </div>
                            <div>
                                <h4 class="text-lg font-medium text-gray-900 dark:text-white">·∫¢nh ƒë·∫°i di·ªán</h4>
                                <p class="text-sm text-gray-500 dark:text-gray-400">JPG, PNG, GIF - T·ªëi ƒëa 5MB</p>
                            </div>
                        </div>

                        <!-- Basic Info -->
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Bi·ªát danh</label>
                                <input type="text" id="editNickname" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white">
                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">T√™n hi·ªÉn th·ªã c·ªßa b·∫°n</p>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Ng√†y sinh</label>
                                <input type="date" id="editDob" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Gi·ªõi t√≠nh</label>
                                <select id="editGender" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white">
                                    <option value="Nam">Nam</option>
                                    <option value="N·ªØ">N·ªØ</option>
                                    <option value="Kh√°c">Kh√°c</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Tr·∫°ng th√°i</label>
                                <p id="editStatus" class="w-full px-3 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white">ƒêang ho·∫°t ƒë·ªông</p>
                            </div>
                        </div>

                        <!-- Preferences -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4">B·∫°n mu·ªën g·∫∑p ai?</label>
                            <div class="grid grid-cols-3 gap-4">
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="Nam" name="editPreferredGender" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">Nam</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="N·ªØ" name="editPreferredGender" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">N·ªØ</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="T·∫•t c·∫£" name="editPreferredGender" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">T·∫•t c·∫£</span>
                                </label>
                            </div>
                        </div>

                        <!-- Needs -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4">B·∫°n ƒëang t√¨m ki·∫øm g√¨?</label>
                            <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="Nh·∫π nh√†ng vui v·∫ª" name="editNeeds" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">Nh·∫π nh√†ng vui v·∫ª</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="Nghi√™m t√∫c" name="editNeeds" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">Nghi√™m t√∫c</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="Kh√°m ph√°" name="editNeeds" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">Kh√°m ph√°</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="K·∫øt h√¥n" name="editNeeds" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">K·∫øt h√¥n</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="B·∫°n ƒë·ªùi l√¢u d√†i" name="editNeeds" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">B·∫°n ƒë·ªùi l√¢u d√†i</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="B·∫°n b√®" name="editNeeds" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">B·∫°n b√®</span>
                                </label>
                            </div>
                        </div>

                        <!-- Interests -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4">S·ªü th√≠ch (t·ªëi ƒëa 5)</label>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="Gym" name="editInterests" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">üí™ Gym</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="Nh·∫£y" name="editInterests" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">üíÉ Nh·∫£y</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="·∫¢nh" name="editInterests" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">üì∑ ·∫¢nh</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="Cafe" name="editInterests" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">‚òï Cafe</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="Du l·ªãch" name="editInterests" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">‚úàÔ∏è Du l·ªãch</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="Game" name="editInterests" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">üéÆ Game</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="ƒê·ªçc" name="editInterests" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">üìö ƒê·ªçc</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="Nh·∫°c" name="editInterests" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">üéß Nh·∫°c</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="T√¨nh nguy·ªán" name="editInterests" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">‚ù§Ô∏è T√¨nh nguy·ªán</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="Phim" name="editInterests" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">üçø Phim</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="N·∫•u ƒÉn" name="editInterests" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">üç≥ N·∫•u ƒÉn</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" value="Th·ªÉ thao" name="editInterests" class="rounded border-gray-300 text-primary focus:ring-primary">
                                    <span class="text-sm text-gray-700 dark:text-gray-300">‚öΩ Th·ªÉ thao</span>
                                </label>
                            </div>
                        </div>

                        <!-- Stats (Read-only) -->
                        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-6">
                            <h4 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Th·ªëng k√™</h4>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <div class="text-center">
                                    <div id="statTotalChats" class="text-2xl font-bold text-primary">0</div>
                                    <div class="text-sm text-gray-500 dark:text-gray-400">Cu·ªôc tr√≤ chuy·ªán</div>
                                </div>
                                <div class="text-center">
                                    <div id="statTotalLikes" class="text-2xl font-bold text-primary">0</div>
                                    <div class="text-sm text-gray-500 dark:text-gray-400">L∆∞·ª£t th√≠ch</div>
                                </div>
                                <div class="text-center">
                                    <div id="statJoinDate" class="text-2xl font-bold text-primary">-</div>
                                    <div class="text-sm text-gray-500 dark:text-gray-400">Tham gia</div>
                                </div>
                                <div class="text-center">
                                    <div id="statLastActive" class="text-2xl font-bold text-primary">-</div>
                                    <div class="text-sm text-gray-500 dark:text-gray-400">Ho·∫°t ƒë·ªông</div>
                                </div>
                            </div>
                        </div>

                        <!-- Actions -->
                        <div class="flex justify-between pt-6">
                            <button type="button" id="deleteAccountBtn" class="px-6 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors">
                                X√≥a t√†i kho·∫£n
                            </button>
                            <div class="flex space-x-3">
                                <button type="button" id="cancelProfileEdit" class="px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                                    H·ªßy
                                </button>
                                <button type="submit" id="saveProfileEdit" class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                                    L∆∞u thay ƒë·ªïi
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Waiting Room -->
        <div id="waitingRoom" class="hidden">
            <div class="max-w-2xl mx-auto text-center">
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8">
                    <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">Ph√≤ng ch·ªù</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-8">Ch·ªçn c√°ch k·∫øt n·ªëi v·ªõi ng∆∞·ªùi kh√°c</p>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <button id="startChat" class="p-6 bg-gradient-to-r from-primary to-secondary text-white rounded-xl hover:shadow-lg transition-all duration-300">
                            <div class="text-3xl mb-3">üí¨</div>
                            <h4 class="text-xl font-semibold mb-2">B·∫Øt ƒë·∫ßu chat</h4>
                            <p class="text-sm opacity-90">T√¨m ki·∫øm ng∆∞·ªùi ph√π h·ª£p</p>
                        </button>
                        
                        <button id="startVoice" class="p-6 bg-gradient-to-r from-accent to-primary text-white rounded-xl hover:shadow-lg transition-all duration-300 opacity-50 cursor-not-allowed">
                            <div class="text-3xl mb-3">üìû</div>
                            <h4 class="text-xl font-semibold mb-2">Voice Call</h4>
                            <p class="text-sm opacity-90">S·∫Øp ra m·∫Øt</p>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Searching -->
        <div id="searching" class="hidden">
            <div class="max-w-md mx-auto text-center">
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8">
                    <div class="animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto mb-6"></div>
                    <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">ƒêang t√¨m ki·∫øm...</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-6">T√¨m ki·∫øm ng∆∞·ªùi ph√π h·ª£p v·ªõi b·∫°n</p>
                    <button id="cancelSearch" class="px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors">
                        H·ªßy t√¨m ki·∫øm
                    </button>
                </div>
            </div>
        </div>

        <!-- Chat Room -->
        <div id="chatRoom" class="hidden">
            <div class="max-w-4xl mx-auto">
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg">
                    <!-- Chat Header -->
                    <div class="border-b border-gray-200 dark:border-gray-700 p-4">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center">
                                    <span class="text-gray-600 dark:text-gray-300 font-semibold">?</span>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-900 dark:text-white">Ng∆∞·ªùi l·∫°</h3>
                                    <p class="text-sm text-gray-500 dark:text-gray-400">ƒêang nh·∫≠p...</p>
                                </div>
                            </div>
                            <div class="flex space-x-2">
                                <button id="keepActive" class="px-3 py-1 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600 transition-colors">
                                    Gi·ªØ ho·∫°t ƒë·ªông
                                </button>
                                <button id="reportUser" class="px-3 py-1 bg-red-500 text-white text-sm rounded-lg hover:bg-red-600 transition-colors">
                                    B√°o c√°o
                                </button>
                                <button id="endChat" class="px-3 py-1 bg-gray-500 text-white text-sm rounded-lg hover:bg-gray-600 transition-colors">
                                    K·∫øt th√∫c
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Chat Messages -->
                    <div id="chatMessages" class="h-96 overflow-y-auto p-4 space-y-4">
                        <!-- Messages will be inserted here -->
                    </div>

                    <!-- Chat Input -->
                    <div class="border-t border-gray-200 dark:border-gray-700 p-4">
                        <div class="flex space-x-3">
                            <input type="text" id="messageInput" placeholder="Nh·∫≠p tin nh·∫Øn..." class="flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white">
                            <button id="sendMessage" class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                                G·ª≠i
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Like Modal -->
        <div id="likeModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white dark:bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4 text-center">
                <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">Ti·∫øp t·ª•c cu·ªôc tr√≤ chuy·ªán</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-6">B·∫°n c√≥ mu·ªën ti·∫øp t·ª•c cu·ªôc tr√≤ chuy·ªán v·ªõi ng∆∞·ªùi n√†y kh√¥ng?</p>
                
                <div class="flex space-x-4 justify-center">
                    <button id="likeYes" class="px-8 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-lg">
                        ‚úÖ C√≥ - T√¥i mu·ªën ti·∫øp t·ª•c
                    </button>
                    <button id="likeNo" class="px-8 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-lg">
                        ‚ùå Kh√¥ng - K·∫øt th√∫c cu·ªôc tr√≤ chuy·ªán
                    </button>
                </div>
                
                <div class="mt-6">
                    <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                        <div id="likeTimer" class="bg-red-500 h-2 rounded-full transition-all duration-1000" style="width: 100%"></div>
                    </div>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Th·ªùi gian c√≤n l·∫°i: <span id="likeTimeLeft">30</span>s</p>
                </div>
            </div>
        </div>

        <!-- End Chat Modal -->
        <div id="endChatModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white dark:bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4 text-center">
                <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">Cu·ªôc tr√≤ chuy·ªán k·∫øt th√∫c</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-6">C·∫£m ∆°n b·∫°n ƒë√£ s·ª≠ d·ª•ng Mapmo.vn</p>
                <button id="backToWaiting" class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                    V·ªÅ ph√≤ng ch·ªù
                </button>
            </div>
        </div>
    </main>

    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="/static/js/video-background.js"></script>
    <script type="module" src="/static/js/app.js?v=8.3.0"></script>
    </div> <!-- End main-content -->
</body>
</html>
